{"version":3,"names":[],"mappings":"","sources":["toast/Toast.js"],"sourcesContent":["/**\n * @file Toast n秒后自动消失的提示\n * @author cgzero(cgzero@cgzero.com)\n * @time 2017-11-14\n */\n\nimport {h, Component} from 'preact';\nimport classNames from 'classnames';\nimport Singleton from '../util/Singleton';\n\n\n\n\nexport default class Toast extends Component {\n    static defaultProps = {\n        prefixCls: 'cui',\n        show: false,\n        delay: 3000\n    };\n\n    constructor(props) {\n        super(props);\n        this.timer = null;\n    }\n\n    componentDidMount() {\n        this.setDelay();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.show) {\n            this.setDelay();\n        }\n    }\n\n    setDelay() {\n        const {onHide, delay, onShow} = this.props;\n        onShow && onShow();\n        clearTimeout(this.timer);\n        this.timer = setTimeout(() => {\n            onHide && onHide();\n        }, delay);\n    }\n\n    render() {\n        const {prefixCls, show, className, children, ...others} = this.props;\n\n        let cls = classNames({\n            [`${prefixCls}-toast`]: true,\n            [className]: className\n        });\n\n        return show ? (\n            <div className={cls} {...others}>\n                {children}\n            </div>\n        ) : null;\n\n    }\n}\n\nexport const SingleToast = new Singleton(Toast);\n"],"file":"Toast.js"}