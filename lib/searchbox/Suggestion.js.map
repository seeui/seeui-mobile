{"version":3,"names":[],"mappings":"","sources":["searchbox/Suggestion.js"],"sourcesContent":["/**\n * @file Suggestion\n * @author wuqi57(441984145@qq.com)\n * @time 17/7/28\n */\n\nimport {h, Component} from 'preact';\nimport classNames from 'classnames';\n\nimport {lockWindow, unLockWindow} from '../util/windowScrollHelper';\n\n\nexport default class Suggestion extends Component {\n    static defaultProps = {\n        prefixCls: 'cui',\n        isFullScreen: true\n    };\n\n    componentWillReceiveProps(nextProps) {\n        this.isNeedLock = nextProps.show !== this.props.show;\n    }\n\n    /**\n     * 初始化完成\n     *\n     * @override\n     */\n    componentDidMount() {\n        const {show, isFullScreen} = this.props;\n        isFullScreen && show && lockWindow();\n    }\n\n    /**\n     * 更新完成\n     *\n     * @override\n     */\n    componentDidUpdate() {\n        const {show, isFullScreen} = this.props;\n\n        if (!isFullScreen || !this.isNeedLock) {\n            return;\n        }\n\n        show ? lockWindow() : unLockWindow();\n        this.isNeedLock = false;\n    }\n\n    /**\n     * 销毁\n     *\n     * @override\n     */\n    componentWillUnmount() {\n        const {show, isFullScreen} = this.props;\n\n        if (!isFullScreen) {\n            return;\n        }\n\n        show && unLockWindow();\n    }\n\n    render() {\n        const {prefixCls, className, show, isFullScreen, children, ...others} = this.props;\n\n        let cls = classNames({\n            [`${prefixCls}-suggestion`]: true,\n            'show': show,\n            'full-screen': isFullScreen,\n            [className]: className\n        });\n\n        return (\n            <div {...others} className={cls}>\n                {children}\n            </div>\n        );\n    }\n}\n"],"file":"Suggestion.js"}