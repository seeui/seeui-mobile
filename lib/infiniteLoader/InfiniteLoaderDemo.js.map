{"version":3,"names":[],"mappings":"","sources":["infiniteLoader/InfiniteLoaderDemo.js"],"sourcesContent":["/**\n * @file InfiniteLoader demo\n * @author BabyLillian(719898036@qq.com)\n * @data 2017-07-04\n */\n\nimport {h, Component} from 'preact';\nimport {InfiniteLoader} from '../index';\n\n\nexport default class InfiniteLoaderDemo extends Component {\n    constructor(props) {\n        super(props);\n        // TODO 这里的 demo 需换成异步\n        this.state = {\n            items: [...Array(5).keys()]\n        };\n    }\n\n    render() {\n        return (\n            <InfiniteLoader\n                onLoadMore={(resolve, finish) => {\n\n                    // mock request\n                    setTimeout(() => {\n                        if (this.state.items.length > 10) {\n                            // 不再请求\n                            finish();\n                        }\n                        else {\n                            this.setState(\n                                {\n                                    items: this.state.items.concat([\n                                        this.state.items.length,\n                                        this.state.items.length + 1,\n                                        this.state.items.length + 2\n                                    ])\n                                },\n                                () => {\n                                    // 单词请求完成后执行\n                                    resolve();\n                                }\n                            );\n                        }\n                    }, 300);\n                }}\n            >\n                <div className=\"infinite-demo\">\n                    <div>\n                        {\n                            this.state.items.map((item, i) => (\n                                <div key={i} className=\"infinite-demo-item\">\n                                    <div className=\"infinite-demo-txt\">{item}</div>\n                                    <div className=\"infinite-demo-link\">查看 ></div>\n                                </div>\n                            ))\n                        }\n                    </div>\n                </div>\n            </InfiniteLoader>\n        );\n    }\n}\n"],"file":"InfiniteLoaderDemo.js"}